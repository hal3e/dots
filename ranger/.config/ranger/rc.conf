set preview_images true
set preview_images_method ueberzug
set confirm_on_delete always
set mouse_enabled false
set display_free_space_in_status_bar true
set tilde_in_titlebar true
set line_numbers relative

map W     reload_cwd
map T     set freeze_files!
map <C-w> reset
map <C-o> redraw_window
map <C-c> abort
map <esc> change_mode normal
map ~ set viewmode!

map u display_file
map <A-n> scroll_preview 1
map <A-e> scroll_preview -1
map ? help
map D display_log
map d taskview_open
map S shell $SHELL

map :  console
map !  console shell%space
map @  console -p6 shell  %%s
map #  console shell -p%space
map s  console shell%space
map w  chain draw_possible_programs; console open_with%space
map t  console find%space
map cd console cd%space

map b       tag_toggle
map fb      tag_remove
map "<any>  tag_toggle tag=%any
map <Space> mark_files toggle=True
map c       mark_files all=True toggle=True
map fc      mark_files all=True val=False
map C       toggle_visual_mode
map fC      toggle_visual_mode reverse=True

map <UP>       move up=1
map <DOWN>     move down=1
map <LEFT>     move left=1
map <RIGHT>    move right=1
map <HOME>     move to=0
map <END>      move to=-1
map <PAGEDOWN> move down=1   pages=True
map <PAGEUP>   move up=1     pages=True
map <CR>       move right=1
#map <DELETE>   console delete
map <INSERT>   console touch%space

copymap <UP>       e
copymap <DOWN>     n  
copymap <LEFT>     y
copymap <RIGHT>    o
copymap <HOME>     gg
copymap <END>      G
copymap <PAGEDOWN> <C-F>
copymap <PAGEUP>   <C-B>

map N  move down=0.5  pages=True
map E  move up=0.5    pages=True

map Y     history_go -1
map O     history_go 1
map ]     move_parent 1
map [     move_parent -1
map }     traverse
map {     traverse_backwards
map )     jump_non

map gy cd ~
map gr cd /etc
map gf cd /usr
map gh cd /dev
map gp cd /opt
map gc cd /var
map gl cd /media
map gL cd /mnt
map gb cd /tmp
map gw cd /
map gW eval fm.cd(ranger.RANGERDIR)
map g/ cd /
map g? cd /usr/share/doc/ranger

map R  edit
map hf shell -p (du --max-depth=1 --human-readable --apparent-size || du -d 1 -h) 2>/dev/null
map hF shell -p (du --max-depth=1 --human-readable --apparent-size || du -d 1 -h) 2>/dev/null | sort -rh
map j; yank path
map jh yank dir
map jk yank name
map j. yank name_without_extension

map md console rename%space
map a  rename_append
map A  eval fm.open_console('rename ' + fm.thisfile.relative_path.replace("%", "%%"))
map U  eval fm.open_console('rename ' + fm.thisfile.relative_path.replace("%", "%%"), position=7)

map ;; paste
map ;p paste overwrite=True
map ;: paste append=True
map ;P paste overwrite=True append=True
map ;o paste_symlink relative=False
map ;O paste_symlink relative=True
map ;yo paste_hardlink
map ;yb paste_hardlinked_subtree
map ;d console paste dest=
map ;`<any> paste dest=%any_path
map ;'<any> paste dest=%any_path

map hH console delete
map hB console trash

map hh cut
map fh uncut
map ha cut mode=add
map hw cut mode=remove
map hb cut mode=toggle

map jj copy
map fj uncut
map ja copy mode=add
map jw copy mode=remove
map jb copy mode=toggle

map /  console search%space
map k  search_next
map K  search_next forward=False
map mb search_next order=tag
map ms search_next order=size
map mu search_next order=mimetype
map mm search_next order=ctime
map ml search_next order=mtime
map ma search_next order=atime

map <TAB>     tab_move 1
map <S-TAB>   tab_move -1
map gk        tab_new
map fq        tab_restore

map pw set sort_reverse!
map pz set sort=random
map ps chain set sort=size;      set sort_reverse=False
map pv chain set sort=basename;  set sort_reverse=False
map pk chain set sort=natural;   set sort_reverse=False
map pl chain set sort=mtime;     set sort_reverse=False
map pm chain set sort=ctime;     set sort_reverse=False
map pa chain set sort=atime;     set sort_reverse=False
map pb chain set sort=type;      set sort_reverse=False
map pr chain set sort=extension; set sort_reverse=False

map pS chain set sort=size;      set sort_reverse=True
map pV chain set sort=basename;  set sort_reverse=True
map pK chain set sort=natural;   set sort_reverse=True
map pL chain set sort=mtime;     set sort_reverse=True
map pM chain set sort=ctime;     set sort_reverse=True
map pA chain set sort=atime;     set sort_reverse=True
map pB chain set sort=type;      set sort_reverse=True
map pR chain set sort=extension; set sort_reverse=True

map hm get_cumulative_size

map zm    set collapse_preview!
map zh    set sort_directories_first!
map zy    set show_hidden!
map zU    set flushinput!
map zu    set preview_images!
map zl    set mouse_enabled!
map z;    set preview_files!
map z:    set preview_directories!
map zs    set sort_case_insensitive!
map zf    set autoupdate_cumulative_size!
map zc    set use_preview_script!
map zt    console filter%space
copymap zf zz

map .t filter_stack add type f
map .o filter_stack add type l
map .l console filter_stack add mime%space
map .k console filter_stack add name%space
map .# console filter_stack add hash%space
map ." filter_stack add duplicate
map .' filter_stack add unique
map .| filter_stack add or
map .& filter_stack add and
map .! filter_stack add not
map .w filter_stack rotate
map .m filter_stack clear
map .* filter_stack decompose
map .; filter_stack pop
map .. filter_stack show

cmap <tab>   eval fm.ui.console.tab()
cmap <s-tab> eval fm.ui.console.tab(-1)
cmap <ESC>   eval fm.ui.console.close()
cmap <CR>    eval fm.ui.console.execute()
cmap <C-o>   redraw_window

copycmap <ESC> <C-c>
